<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <comment>If a bullet hits an enemy, subtract 10 from its health.  When an enemy runs out of health, destroy it.</comment>
        <comment>Allow WASD as alternate controls to the default arrow keys.</comment>
        <event-block sid="108748638963745">
            <conditions>
                <condition id="0" name="On collision with another object" sid="968327527796039" type="Shell">
                    <param id="0" name="Object">EnemyTank</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="676079075687816" type="Shell" />
                <action id="-12" name="Subtract from" sid="937610374704666" type="EnemyTank">
                    <param id="0" name="Instance variable">Health</param>
                    <param id="1" name="Value">10</param>
                </action>
            </actions>
        </event-block>
        <variable constant="0" name="dist" sid="811941984930463" static="0" type="number">0</variable>
        <event-group description="" sid="873157087198226" title="EnemyAI">
            <sub-events>
                <event-block sid="764497485859423">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="591148397219873" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="144527095073316">
                            <conditions>
                                <condition id="-11" name="For Each" sid="141493941494532" type="System">
                                    <param id="0" name="Object">EnemyTank</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Set position" sid="901030971756683" type="EnemyText">
                                    <param id="0" name="X">EnemyTank.X</param>
                                    <param id="1" name="Y">EnemyTank.Y - 30</param>
                                </action>
                                <action id="0" name="Set text" sid="893579861699134" type="EnemyText">
                                    <param id="0" name="Text">EnemyTank.state</param>
                                </action>
                                <action behavior="Pin" id="0" name="Pin to object" sid="121692774219139" type="EnemyText">
                                    <param id="0" name="Pin to">EnemyTank</param>
                                    <param id="1" name="Mode">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="742167686520779" type="EnemyTank">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Value">choose(&quot;patrol&quot;,&quot;warning&quot;,&quot;attack&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="337356944719992">
                    <conditions>
                        <condition id="-11" name="For Each" sid="734108428308439" type="System">
                            <param id="0" name="Object">EnemyTank</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="909387217180331">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="848593415695449" type="EnemyTank">
                                    <param id="0" name="Instance variable">Health</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="277604882332275" type="EnemyTank" />
                            </actions>
                        </event-block>
                        <event-block sid="500453141464821">
                            <conditions>
                                <condition id="-22" name="Else" sid="661085662464798" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="301090571748789" type="EnemyTank">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Value">&quot;patrol&quot;</param>
                                </action>
                                <action id="0" name="Set text" sid="616913683724712" type="EnemyText">
                                    <param id="0" name="Text">&quot; &quot; &amp; EnemyTank.Health</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="321890957486170">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="462300447836113" type="System">
                                    <param id="0" name="First value">distance(PlayerTank.X,PlayerTank.Y,EnemyTank.X,EnemyTank.Y) </param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="721365578314043" type="EnemyTank">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Value">&quot;warning&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="765645773568963">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="840048321758872" type="EnemyTank">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;warning&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="907996301361566">
                                    <conditions>
                                        <condition behavior="LineOfSight" id="0" name="Has LOS to object" sid="143179087834701" type="EnemyTank">
                                            <param id="0" name="Object">PlayerTank</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="792610460591640" type="EnemyTank">
                                            <param id="0" name="Instance variable">state</param>
                                            <param id="1" name="Value">&quot;attack&quot;</param>
                                        </action>
                                        <action id="0" name="Set text" sid="113651969563092" type="EnemyText">
                                            <param id="0" name="Text">&quot; &quot; &amp; EnemyTank.state</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="995276268361698">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="756864140483732" type="EnemyTank">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;attack&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="520105900924869">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="698918715052207" type="System">
                                            <param id="0" name="Interval (seconds)">0.5</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="746129151635153" type="EnemyTank">
                                            <param id="0" name="Object">EnemyShell</param>
                                            <param id="1" name="Layer">&quot;Game&quot;</param>
                                            <param id="2" name="Image point">&quot;ShootPaint&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="288106170001515">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="727437619935852" type="System">
                                            <param id="0" name="First value">PlayerTank.X</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">EnemyTank.X - 2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="518547303041390" type="EnemyTank">
                                            <param id="0" name="Control">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="849698791096257">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="679139697383037" type="System">
                                            <param id="0" name="First value">PlayerTank.X</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">EnemyTank.X + 2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="332038188721351" type="EnemyTank">
                                            <param id="0" name="Control">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="298324164860789">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="255330757097106" type="System">
                                            <param id="0" name="First value">PlayerTank.Y</param>
                                            <param id="1" name="Comparison">2</param>
                                            <param id="2" name="Second value">EnemyTank.Y +2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="619718525708443" type="EnemyTank">
                                            <param id="0" name="Control">2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="524202542398504">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="756778956231755" type="System">
                                            <param id="0" name="First value">PlayerTank.Y</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Second value">EnemyTank.Y - 2</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="179702822961406" type="EnemyTank">
                                            <param id="0" name="Control">3</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="217483185954083">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="602741341371216" type="EnemyTank">
                                    <param id="0" name="Instance variable">state</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;patrol&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="772592239684538">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="476500692549591" type="EnemyTank">
                                            <param id="0" name="Instance variable">move</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;left&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="157308173632844" type="EnemyTank">
                                            <param id="0" name="Control">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="765046216273572">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="410965346313814" type="EnemyTank">
                                            <param id="0" name="Instance variable">move</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;right&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="8Direction" id="7" name="Simulate control" sid="895327859685627" type="EnemyTank">
                                            <param id="0" name="Control">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="121843265949509">
                                    <conditions>
                                        <condition id="0" name="On collision with another object" sid="806525391663650" type="EnemyTank">
                                            <param id="0" name="Object">Tilemap</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="183010246026457">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="907221676273230" type="EnemyTank">
                                                    <param id="0" name="Instance variable">move</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;left&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="641977384823655" type="EnemyTank">
                                                    <param id="0" name="Instance variable">move</param>
                                                    <param id="1" name="Value">&quot;right&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="590158094651539">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="124436426646091" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="139805452333452" type="EnemyTank">
                                                    <param id="0" name="Instance variable">move</param>
                                                    <param id="1" name="Value">&quot;left&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Управление танком героя" sid="156141149004157" title="InputControl">
            <sub-events>
                <event-block sid="895790708198151">
                    <conditions>
                        <condition id="2" name="Mouse button is down" sid="818228679907387" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                        </condition>
                        <condition id="-6" name="Every X seconds" sid="434767381908208" type="System">
                            <param id="0" name="Interval (seconds)">0.1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="660709612028049" type="PlayerTank">
                            <param id="0" name="Object">Shell</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="Image point">&quot;ShootPoint&quot;</param>
                        </action>
                        <action id="-18" name="Rotate clockwise" sid="872084606908775" type="Shell">
                            <param id="0" name="Degrees">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="989314239530147">
                    <conditions>
                        <condition id="2" name="Key is down" sid="496022330459857" type="Keyboard">
                            <param id="0" name="Key">32</param>
                        </condition>
                        <condition id="-6" name="Every X seconds" sid="261302030832752" type="System">
                            <param id="0" name="Interval (seconds)">0.1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="376882038571826" type="PlayerTank">
                            <param id="0" name="Object">Shell</param>
                            <param id="1" name="Layer">&quot;Game&quot;</param>
                            <param id="2" name="Image point">&quot;ShootPoint&quot;</param>
                        </action>
                        <action id="-18" name="Rotate clockwise" sid="211283127977216" type="Shell">
                            <param id="0" name="Degrees">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="759098110971880">
                    <conditions>
                        <condition id="2" name="Key is down" sid="335856642949931" type="Keyboard">
                            <param id="0" name="Key">87</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="167224824283214" type="PlayerTank">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="568039142110297">
                    <conditions>
                        <condition id="2" name="Key is down" sid="645076111344781" type="Keyboard">
                            <param id="0" name="Key">83</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="561941214405573" type="PlayerTank">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="941093324258256">
                    <conditions>
                        <condition id="2" name="Key is down" sid="160232023375303" type="Keyboard">
                            <param id="0" name="Key">65</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="219402038535739" type="PlayerTank">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="202934025836485">
                    <conditions>
                        <condition id="2" name="Key is down" sid="233019174799426" type="Keyboard">
                            <param id="0" name="Key">68</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="797468731619698" type="PlayerTank">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
